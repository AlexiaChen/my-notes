
[阿里：MySQL数据库规范 - 百度文库 (baidu.com)](https://wenku.baidu.com/view/8e60d604ab114431b90d6c85ec3a87c240288ada.html?_wkts_=1711101186401&bdQuery=%E9%98%BF%E9%87%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83&needWelcomeRecommand=1)
## 设计规范

- 【推荐】 字段允许适当冗余，以提高查询性能，但必须考虑数据一致性。冗余字段应该遵循:
    - 不是频繁修改的字段
    - 不是varchar超长字段，更不能是text字段

正例: 商品类目名称使用频率高，字段长度短，名称基本一成不变，可在相关的关联的表中冗余。 这样避免关联查询

- 【推荐】单表行数超过500万行或者单表容量超过2GB，才推荐进行分库分表。说明: 如果预计2年后的数据量根本达不到这个级别，请不要在创建表时就分库分表
- 【推荐】 id必须是主键，每个表必须有主键，且保持增长趋势的，小型系统可以依赖MySQL的自增主键，大型系统或者需要分库分表时才使用内置的ID生成器。
- 【强制】 id类型没有特殊要求，必须使用bigint unsigned，禁止使用int，即使现在数据量很小。id如果是数字类型的话，必须是8个字节
    - 方便对接外部系统，还有可能产生很多废数据
    - 避免废弃数据对系统id的影响
    - 未来分库分表，自动生成id，一般也是8个字节
- 【推荐】 字段尽量设置为NOT NULL，为字段提供默认值。如字符型的默认值为一个空字符串。数值型默认值为数值0.逻辑型默认值为数值0
- 【推荐】每个字段和表必须提供清晰的注释comment
- 【推荐】时间统一格式: YYYY-MM-DD HH:MM:SS
- 【强制】 更新数据表记录时，必须同时更新记录对应的gmt_modified字段值为当前时间


## 命名规范

- 【强制】 表达与是否概念的字段，必须使用is_xxxx方式命名，数据类型是unsigned tinyint（1表示是，0表示否）
- 【强制】表名，字段名必须使用小写字母或数字，禁止出现数字开头，禁止两个下划线中间只出现数字。数据库字段名的修改代价很大，因为无法进行预发布，所以字段名需要慎重考虑

正例: health_user, rdc_config, level3_name 
反例: HealthUser, rdcConfig, level_3_name

- 【强制】表名不使用复数名词。说明：表名应该仅仅表示表里面的实体内容，不应该表示实体数量。
- 【强制】 禁用保留字，如desc，range，match，delayed等。请参考官方保留字
- 【强制】 主键索引名为pk_字段名。唯一索引名为uk_字段名。普通索引名为idx_字段名。
- 【强制】小数类型的为decimal，禁止使用float和double
- 【强制】 如果存储的字符串长度几乎相等，使用char定长字符串类型
- 【强制】 varchar是可变长字符串，不预先分配存储空间，长度不要超过5000，如果存储长度大于此值，定义字段类型为text，独立出来一张表，用主键来对应，避免影响其他字段索引效率
- 【强制】 表必备3个字段：id，is_delete, gmt_create, gmt_modified。说明：其中id必须为主键，类型为unsigned bigint。单表时自增，步长为1.  gmt_create,gmt_modified的类型均为date_time类型，前者表示主动创建，后者表示被动更新
- 【强制】 所有命名必须使用全名，有默认约定的除外，如果超过30个字符，用缩写，尽量名字易懂简洁。
- 【推荐】表的命名最好是加上"业务名称_表的作用"。比如 health_user  trade_config
- 【推荐】 库名与应用名尽量一致。如health
- 【推荐】所有时间字段，都以gmt_开始