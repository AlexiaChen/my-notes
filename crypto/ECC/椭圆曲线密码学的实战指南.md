椭圆曲线密码学是很难的；有时你需要从细节中走出来，重新思考大局。让我们从头开始，从基础知识开始，我想这将有助于所有的事情。

![[Pasted image 20221023103208.png]]

在我们开始之前，先简单说明一下。

这个系列的目的是让你了解椭圆曲线密码学的非技术性以及它在以下方面的应用......以太坊 其中有一些数学知识，但你只要有高中水平的教育，就应该能够顺利完成。

在 椭圆曲线配对的文章中，VitalikButerin的文章中，他警告说："椭圆曲线本身是一个非常难以理解的话题......如果你不知道它们如何工作，我推荐这篇文章。"

好吧，我读了这篇文章并（基本上）转录了它。[A (Relatively Easy To Understand) Primer on Elliptic Curve Cryptography (cloudflare.com)](https://blog.cloudflare.com/a-relatively-easy-to-understand-primer-on-elliptic-curve-cryptography/)

知道了我现在所知道的，我明白了为什么 grittygrease这样写的原因。没有不敬的意思，我仍然经常参考它。

但我要说的是，我认为要把你需要学习的关于椭圆曲线的重要东西拿走并不是特别容易。至少对于我们的目的来说是这样。

因此，让我们回顾一下这些材料，但这一次我们将采取不同的方式来学习同样的课程。

我们将从更远的地方着手。让我们来介绍一下密码学的目的。

互联网是一个非常公开的地方。它基本上是通过向任何听着的人发送信息来工作的，希望它能到达预定的收件人那里。

密码学的目标是系统地改变数据，直到它无法破译，无法与随机数据区分。

使数据不可读是很容易的，关键是要以一种方式改变它，使它可以被特定的、预期的接收者恢复。


这就是问题所在：我们如何才能通过公共空间以数学确定性所赋予的信心来传递私人数据？

所以椭圆曲线是什么样的呢？

![[Pasted image 20221023144918.png]]

 y^2项尤其重要。任何满足方程右边的解都会有两个y解：一个是正解，一个是负解。

如果y=3是一个解，那么y=-3也是一个解；两者同样正确。

对y进行平方处理会引起歧义。

假设有一个我们都知道的秘密数字Y，但我们不确定对方是否知道。我们的目标是在不泄露秘密的情况下弄清对方是否知道。

我们可以利用椭圆曲线方程中的模糊性。

 我们可以就一个椭圆曲线方程达成一致，并同意分享与我们的y相对应的x值，而不是分享y（或任何可用于推导y的信息）。

这个x可以参考y或-y；它是模糊的。

如果我们在这里停下来，我们就能支持这种50/50类型的模糊性。这可能是有用的；很多关键信息是二进制的。

但是我们不打算在这里停止。我们要增加更多的模糊性，直到我们可以用它来掩盖一些实质性的东西。

 (停顿一下数学)

在这一点上，我们的框架从普通数学转移到离散数学上。我会给你重要的东西，但你需要知道模块化算术。

简短说，如果你用x除以y，余数是z，我们写成x mod y = z。

最好的地方总是从之前的解决方案开始。

Diffie-Hellman的工作方式是通过公共空间传递中间的非敏感信息来产生一个共享的秘密。

这些中间信息包含敏感数据，但它们通过模块化算术的循环来保护数值。

你可以看到最后的结果，但你不知道结果在到达那里之前经过了多少次模数运算。

我们的第一个目标将是把这种动态转移到椭圆曲线上。为了做到这一点，有两件事必须是可能的。

- 我们可以进行点之间移动所需的数学运算
- 当我们应用模块化运算时，这些运算仍然有效

这是我认为以前的讲述并不特别有用的时刻之一。我只是定义了这个奇怪的操作，并称它为点操作，然后有点......继续前进......

关于点操作，你需要知道的是：它们存在。

实际有用的是理解点运算是椭圆曲线上的加法。你可以点/加两个独立的点来得到第三个点，只是可视化的方式很奇怪。

我们可以点/加两个点，我们也可以点/加一个点到它自己。

从这个基础上，我们可以建立所有需要的工具，来执行创造Diffie-Hellman的模糊性所需的数学运算。

为了节省时间（和理智），我就直截了当地说：一切在模块化算术中也同样有效。

那么问题来了，"我们如何将mod运算应用于曲线？" 这并不难，你只需将图形包裹在一个边界内。

一旦你完成了，你就有两层模糊不清的东西。

1) y^2
2) mod max_value

![[Pasted image 20221023150036.png]]

我们已经到达了椭圆曲线制图学的不可逾越的基础：椭圆曲线离散对数问题。

离散对数问题（模数的因式分解）是可以证明的，额外的一层模糊性使其难度大大增加。

在这个阶段，我们已经完成了! 我们现在有了所有的基础知识，我们需要继续我们的旅程，了解是如何利用椭圆曲线加密技术的。

但是，为了完整起见（也为了节省以后的时间），让我们把有限域的生成包括进去。

在这一点上非常简单：我们只是把我们的椭圆曲线放在模运算(modular)空间里，然后抛出所有x不是整数的值。

这就限制了椭圆曲线只适用于x值的整数，这在后面会变得有用。

![[Pasted image 20221023150241.png]]

因此，我们将在这里分开，用椭圆曲线生成的有限域。

当你单独看它的时候，它看起来真的像一个随机的杂乱无章的数字，特别是如果你在我们建立它的时候不在身边的话......

我想知道这怎么能派上用场？

![[Pasted image 20221023150318.png]]

